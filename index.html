<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เกมจิตวิทยา: การเดินทางค้นหาตัวตน MBTI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* ตั้งค่า canvas ให้เต็มหน้าจอและอยู่ด้านหลังสุด */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        /* ใช้ฟอนต์ Sarabun และ Inter */
        body {
            font-family: 'Sarabun', 'Inter', sans-serif;
            background-color: #030712; /* พื้นหลังสีเทา-น้ำเงินเข้ม */
            overflow: hidden; /* ซ่อน scrollbar */
        }
        .card {
            background: rgba(100, 116, 139, 0.1); /* bg-slate-500/10 */
            backdrop-filter: blur(16px); /* backdrop-blur-xl */
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .fade-in {
            animation: fadeIn 0.8s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* --- Styles for Parallax Elements --- */
        #start-screen h1, #start-screen p, #start-btn {
            transition: transform 0.2s linear;
            will-change: transform;
        }
        /* --- New Styles for Choice Cards --- */
        .choice-card {
            background: rgba(30, 41, 59, 0.5); /* bg-slate-800 with opacity */
            border: 2px solid rgba(100, 116, 139, 0.5); /* border-slate-600 */
            border-radius: 1rem; /* rounded-2xl */
            padding: 1.5rem;
            width: 100%;
            max-width: 280px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 180px; 
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
        .choice-card:hover {
            transform: scale(1.05) translateY(-5px);
            border-color: #f59e0b; /* amber-500 */
            background: rgba(51, 65, 85, 0.7);
            box-shadow: 0 10px 30px rgba(245, 158, 11, 0.2);
        }
        .choice-card svg {
            margin-bottom: 1rem;
            width: 3rem; /* w-12 */
            height: 3rem; /* h-12 */
            color: #fcd34d; /* text-amber-300 */
            transition: color 0.3s ease;
        }
        .choice-card:hover svg {
            color: #f59e0b; /* text-amber-500 */
        }
    </style>
</head>
<body class="text-white">

    <!-- Canvas สำหรับพื้นหลังกลุ่มดาว -->
    <canvas id="bg-canvas"></canvas>

    <!-- Container หลักของเกม -->
    <div id="game-container" class="min-h-screen flex items-center justify-center p-4">
        
        <div id="start-screen" class="text-center fade-in w-full max-w-2xl">
            <h1 class="text-4xl md:text-5xl font-bold mb-4 text-amber-300">การเดินทางค้นหาตัวตน</h1>
            <p class="text-lg md:text-xl mb-8 mx-auto text-slate-300">ยินดีต้อนรับสู่การผจญภัยที่ทุกการตัดสินใจจะสะท้อนตัวตนที่แท้จริงของคุณ คุณพร้อมที่จะค้นพบบุคลิกภาพที่ซ่อนอยู่แล้วหรือยัง?</p>
            <button id="start-btn" class="bg-amber-500 hover:bg-amber-400 text-slate-900 font-bold py-3 px-8 rounded-full text-xl shadow-lg transition-transform transform hover:scale-105">
                เริ่มการเดินทาง
            </button>
        </div>

        <div id="question-screen" class="hidden w-full max-w-4xl fade-in">
            <div class="card rounded-2xl p-6 md:p-10 shadow-2xl">
                <div class="mb-2 text-center">
                    <p id="progress-text" class="text-sm text-amber-300">คำถามที่ 1 จาก 20</p>
                    <div class="w-full bg-slate-700 rounded-full h-2.5 mt-1">
                        <div id="progress-bar" class="bg-amber-400 h-2.5 rounded-full" style="width: 5%"></div>
                    </div>
                </div>
                <h2 id="question-text" class="text-2xl md:text-3xl font-bold my-8 text-center"></h2>
                <div id="choices-container" class="flex flex-col md:flex-row justify-center items-center gap-6 md:gap-8">
                    <!-- Choice cards will be populated by JS -->
                </div>
            </div>
        </div>

        <div id="result-screen" class="hidden text-center w-full max-w-3xl fade-in">
             <div class="card rounded-2xl p-6 md:p-10 shadow-2xl">
                <div id="result-icon-container" class="mb-4"></div>
                <p class="text-amber-300 text-lg">บุคลิกภาพของคุณคือ...</p>
                <h2 id="result-type" class="text-5xl md:text-6xl font-bold my-3 text-white"></h2>
                <h3 id="result-title" class="text-2xl md:text-3xl font-semibold text-amber-400 mb-4"></h3>
                <p id="result-description" class="text-slate-300 mb-8 text-base md:text-lg text-left"></p>
                <button id="restart-btn" class="bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-8 rounded-full text-lg transition-transform transform hover:scale-105">
                    ทดสอบอีกครั้ง
                </button>
            </div>
        </div>
    </div>

    <script>
        // --- Canvas Background Script ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let stars = [];
        let mouse = { x: undefined, y: undefined };
        const maxStars = 200;
        const connectRadius = 150;

        function setupCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            stars = [];
            for (let i = 0; i < maxStars; i++) {
                let x = Math.random() * canvas.width;
                let y = Math.random() * canvas.height;
                stars.push({
                    x: x, y: y,
                    baseX: x, baseY: y,
                    radius: Math.random() * 1.5 + 0.5,
                    vx: 0, vy: 0,
                    density: (Math.random() * 20) + 10,
                    opacity: Math.random() * 0.5 + 0.5
                });
            }
        }

        function drawCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            stars.forEach(star => {
                let dx_mouse = star.x - mouse.x;
                let dy_mouse = star.y - mouse.y;
                let distance_mouse = Math.sqrt(dx_mouse*dx_mouse + dy_mouse*dy_mouse);
                let repulsion_radius = 100;
                
                if (mouse.x !== undefined && distance_mouse < repulsion_radius) {
                    let force = (repulsion_radius - distance_mouse) / repulsion_radius;
                    let angle = Math.atan2(dy_mouse, dx_mouse);
                    star.vx += force * Math.cos(angle) * 1.5;
                    star.vy += force * Math.sin(angle) * 1.5;
                }

                let dx_base = star.baseX - star.x;
                let dy_base = star.baseY - star.y;
                star.vx += dx_base / star.density / 15;
                star.vy += dy_base / star.density / 15;
                
                star.vx *= 0.94;
                star.vy *= 0.94;

                star.x += star.vx;
                star.y += star.vy;

                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(240, 249, 255, ${star.opacity})`;
                ctx.fill();
            });

            ctx.lineWidth = 0.5;
            for (let i = 0; i < stars.length; i++) {
                if (mouse.x !== undefined) {
                    let distToMouse = Math.sqrt(Math.pow(stars[i].x - mouse.x, 2) + Math.pow(stars[i].y - mouse.y, 2));
                    if (distToMouse < connectRadius) {
                        ctx.beginPath();
                        ctx.moveTo(stars[i].x, stars[i].y);
                        ctx.lineTo(mouse.x, mouse.y);
                        ctx.strokeStyle = `rgba(224, 242, 254, ${1 - distToMouse / connectRadius})`;
                        ctx.stroke();
                    }
                }

                for (let j = i + 1; j < stars.length; j++) {
                    let dist = Math.sqrt(Math.pow(stars[i].x - stars[j].x, 2) + Math.pow(stars[i].y - stars[j].y, 2));
                    if (dist < connectRadius / 1.5) {
                        ctx.beginPath();
                        ctx.moveTo(stars[i].x, stars[i].y);
                        ctx.lineTo(stars[j].x, stars[j].y);
                        ctx.strokeStyle = `rgba(224, 242, 254, ${0.5 - dist / (connectRadius / 1.5)})`;
                        ctx.stroke();
                    }
                }
            }
        }

        function animateCanvas() {
            drawCanvas();
            requestAnimationFrame(animateCanvas);
        }

        window.addEventListener('mousemove', e => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
        });
        window.addEventListener('mouseout', () => {
            mouse.x = undefined;
            mouse.y = undefined;
        });
        window.addEventListener('resize', setupCanvas);
        
        setupCanvas();
        animateCanvas();

        // --- Game Logic Script ---
        const gameContainer = document.getElementById('game-container');
        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionText = document.getElementById('question-text');
        const choicesContainer = document.getElementById('choices-container');
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const resultType = document.getElementById('result-type');
        const resultTitle = document.getElementById('result-title');
        const resultDescription = document.getElementById('result-description');
        const resultIconContainer = document.getElementById('result-icon-container');

        const startHeading = document.querySelector('#start-screen h1');
        const startParagraph = document.querySelector('#start-screen p');

        const icons = {
            E: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>`,
            I: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>`,
            S: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>`,
            N: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"></path></svg>`,
            T: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 9.5s1.5-4.5 10-4.5 10 4.5 10 4.5-1.5 4.5-10 4.5-10-4.5-10-4.5Z"></path><path d="M12 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path><path d="M12 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"></path><path d="M12 17a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Z"></path></svg>`,
            F: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>`,
            J: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>`,
            P: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon></svg>`
        };

        const questions = [
            // E/I
            { question: "คุณได้รับเชิญไปงานเลี้ยงใหญ่ใจกลางเมือง เมื่อไปถึง คุณจะ...", choices: [{ text: "ตรงเข้าไปทักทายผู้คนใหม่ๆ และร่วมวงสนทนาอย่างสนุกสนาน", value: "E" }, { text: "มองหาเพื่อนสนิท หรือหามุมสงบเพื่อสังเกตการณ์บรรยากาศก่อน", value: "I" }] },
            { question: "หลังเลิกงานที่เหนื่อยล้า คุณเลือกที่จะ...", choices: [{ text: "ออกไปสังสรรค์กับเพื่อนเพื่อผ่อนคลาย", value: "E" }, { text: "กลับบ้านไปใช้เวลาเงียบๆ คนเดียวเพื่อชาร์จพลัง", value: "I" }] },
            { question: "เมื่อต้องทำงานกลุ่ม คุณมักจะ...", choices: [{ text: "เป็นคนเริ่มบทสนทนาและระดมความคิดเห็น", value: "E" }, { text: "เป็นผู้ฟังที่ดีและคิดวิเคราะห์ก่อนเสนอความเห็น", value: "I" }] },
            { question: "โทรศัพท์ของคุณดังขึ้นจากเบอร์ที่ไม่รู้จัก คุณจะ...", choices: [{ text: "รับสายทันทีด้วยความสงสัย", value: "E" }, { text: "ปล่อยให้มันดังไปก่อนแล้วค่อยเช็คว่าเป็นใคร", value: "I" }] },
            { question: "ในวันหยุดยาว คุณอยาก...", choices: [{ text: "ไปเที่ยวในที่ที่มีผู้คนและกิจกรรมมากมาย", value: "E" }, { text: "ไปพักผ่อนในสถานที่สงบๆ เป็นส่วนตัว", value: "I" }] },
            // S/N
            { question: "คุณพบหีบสมบัติโบราณที่ถูกล็อคไว้ วิธีที่คุณจะพยายามเปิดมันคือ...", choices: [{ text: "ตรวจสอบกลไก สัมผัสวัสดุ และหาวิธีเปิดที่เป็นรูปธรรม", value: "S" }, { text: "จินตนาการถึงความเป็นไปได้ต่างๆ ว่ากุญแจอาจซ่อนอยู่ที่ไหน", value: "N" }] },
            { question: "เมื่อต้องเรียนรู้ทักษะใหม่ๆ คุณจะรู้สึกมั่นใจที่สุดเมื่อ...", choices: [{ text: "ได้ลงมือปฏิบัติจริงและเรียนรู้จากประสบการณ์ตรง", value: "S" }, { text: "เข้าใจถึงแนวคิดและทฤษฎีเบื้องหลังทั้งหมดก่อน", value: "N" }] },
            { question: "เมื่อมีคนอธิบายไอเดียใหม่ๆ ให้คุณฟัง คุณจะสนใจ...", choices: [{ text: "ขั้นตอนและวิธีการนำไปใช้ได้จริง", value: "S" }, { text: "แนวคิดภาพรวมและความเป็นไปได้ในอนาคต", value: "N" }] },
            { question: "คุณชอบเรื่องราวแบบไหนมากกว่า?", choices: [{ text: "เรื่องที่อิงจากเหตุการณ์จริงและมีรายละเอียดชัดเจน", value: "S" }, { text: "เรื่องแนวเปรียบเทียบ ใช้สัญลักษณ์ และมีความหมายแฝง", value: "N" }] },
            { question: "เวลาประกอบเฟอร์นิเจอร์ คุณจะ...", choices: [{ text: "อ่านคู่มือและทำตามทีละขั้นตอนอย่างละเอียด", value: "S" }, { text: "ดูภาพรวมแล้วลองประกอบตามความเข้าใจของตัวเอง", value: "N" }] },
            // T/F
            { question: "เพื่อนสนิทของคุณกำลังเสียใจอย่างหนักเพราะทำผิดพลาดเรื่องงาน คุณจะปลอบใจเขาโดย...", choices: [{ text: "วิเคราะห์สถานการณ์อย่างเป็นกลางและเสนอแนวทางแก้ไขที่เป็นเหตุเป็นผล", value: "T" }, { text: "รับฟังความรู้สึกของเขาอย่างตั้งใจ และให้กำลังใจเพื่อให้เขารู้สึกดีขึ้น", value: "F" }] },
            { question: "เมื่อต้องตัดสินใจเรื่องสำคัญ คุณให้ความสำคัญกับ...", choices: [{ text: "ข้อมูลที่เป็นกลางและหลักการที่ถูกต้อง", value: "T" }, { text: "ผลกระทบที่จะเกิดกับความรู้สึกของคนอื่น", value: "F" }] },
            { question: "เพื่อนของคุณมาขอคำปรึกษา คุณมักจะ...", choices: [{ text: "ช่วยชี้ให้เห็นข้อดีข้อเสียอย่างตรงไปตรงมา", value: "T" }, { text: "ปลอบโยนและแสดงความเห็นใจในความรู้สึกของเขา", value: "F" }] },
            { question: "คำชมแบบไหนที่ทำให้คุณรู้สึกดีกว่า?", choices: [{ text: "คุณทำงานได้มีประสิทธิภาพและมีเหตุผลมาก", value: "T" }, { text: "คุณเป็นคนที่น่ารักและใส่ใจคนอื่นจริงๆ", value: "F" }] },
            { question: "เมื่อดูหนังฉากซึ้งๆ คุณมักจะ...", choices: [{ text: "ชื่นชมในบทภาพยนตร์และการแสดง", value: "T" }, { text: "รู้สึกอินและมีอารมณ์ร่วมไปกับตัวละคร", value: "F" }] },
            // J/P
            { question: "ถึงเวลาวางแผนการเดินทางครั้งใหญ่! คุณชอบแบบไหนมากกว่ากัน?", choices: [{ text: "จัดตารางเดินทางที่ชัดเจน จองที่พักและกิจกรรมไว้ล่วงหน้าทั้งหมด", value: "J" }, { text: "มีแค่จุดหมายปลายทาง ที่เหลือปล่อยให้เป็นการผจญภัยเฉพาะหน้า", value: "P" }] },
            { question: "โต๊ะทำงานของคุณส่วนใหญ่เป็นแบบไหน?", choices: [{ text: "เป็นระเบียบเรียบร้อย ของทุกอย่างมีที่ของมัน", value: "J" }, { text: "มีของวางอยู่บ้าง แต่คุณรู้ว่าอะไรอยู่ตรงไหน", value: "P" }] },
            { question: "เมื่อมีงานด่วนเข้ามาแทรก คุณจะรู้สึก...", choices: [{ text: "เครียดเล็กน้อย เพราะมันกระทบกับแผนที่วางไว้", value: "J" }, { text: "ไม่เป็นไร พร้อมปรับเปลี่ยนแผนได้เสมอ", value: "P" }] },
            { question: "คุณชอบที่จะ...", choices: [{ text: "ตัดสินใจให้เด็ดขาดและทำเรื่องต่างๆ ให้เสร็จสิ้นไป", value: "J" }, { text: "เปิดทางเลือกไว้เผื่อมีข้อมูลหรือโอกาสที่ดีกว่าเข้ามา", value: "P" }] },
            { question: "เพื่อนชวนไปเที่ยวแบบกะทันหัน คุณมักจะ...", choices: [{ text: "ลังเล เพราะอยากรู้แผนการที่แน่นอนก่อน", value: "J" }, { text: "ตกลงไปทันที! ชอบความเซอร์ไพรส์", value: "P" }] }
        ];

        const results = {
            "ISTJ": { 
                title: "นักคำนวณ", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="8" y1="12" x2="16" y2="12"></line><line x1="12" y1="8" x2="12" y2="16"></line></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนจริงจัง มีความรับผิดชอบสูง และเชื่อถือได้สูงมาก คุณยึดมั่นในข้อเท็จจริง ตรรกะ และหลักการที่พิสูจน์ได้ ทำงานอย่างเป็นระบบและมีระเบียบวินัยเพื่อให้บรรลุเป้าหมายที่วางไว้<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความมั่นคง ความเป็นระเบียบ และการทำหน้าที่ของตนเองให้สำเร็จลุล่วง คุณเป็นคนที่ซื่อสัตย์และภักดีอย่างยิ่งต่อองค์กรและคนที่คุณรัก" 
            },
            "ISFJ": { 
                title: "ผู้พิทักษ์", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนอบอุ่น ใจดี ทุ่มเท และใส่ใจในความต้องการของผู้อื่นอย่างน่าทึ่ง คุณมีความจำดีเยี่ยมในเรื่องรายละเอียดเล็กๆ น้อยๆ ที่เกี่ยวกับคนรอบข้าง และพร้อมจะปกป้องคนที่คุณรักเสมอ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การสร้างความสามัคคี การช่วยเหลือผู้อื่น และการดูแลรักษาสิ่งที่ดีงามในสังคม คุณรู้สึกดีเมื่อได้เป็นส่วนหนึ่งที่ทำให้คนอื่นมีความสุข" 
            },
            "INFJ": { 
                title: "ผู้แนะนำ", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path><path d="M12 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนเงียบขรึมแต่มีความมุ่งมั่นสูง เปี่ยมด้วยอุดมการณ์และความคิดสร้างสรรค์ คุณมีความสามารถพิเศษในการเข้าใจผู้คนได้อย่างลึกซึ้ง และมักจะสร้างแรงบันดาลใจให้ผู้อื่นทำสิ่งที่ดีงาม<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การทำตามอุดมการณ์ การช่วยเหลือให้โลกดีขึ้น และการค้นหาความหมายที่ลึกซึ้งของชีวิต คุณมักจะมองเห็นศักยภาพในตัวผู้อื่น" 
            },
            "INTJ": { 
                title: "นักออกแบบ", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20z"></path><path d="M2 12h20"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นนักคิดเชิงกลยุทธ์ที่มีแผนการสำหรับทุกสิ่ง คุณมีความคิดสร้างสรรค์ มองการณ์ไกล และมีความสามารถในการผลักดันความคิดที่ซับซ้อนให้กลายเป็นความจริงได้อย่างน่าทึ่ง<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความรู้ การพัฒนาตนเอง และการปรับปรุงระบบให้มีประสิทธิภาพสูงสุด คุณไม่หยุดนิ่งที่จะเรียนรู้และมองหาแนวทางที่ดีกว่าเสมอ" 
            },
            "ISTP": { 
                title: "ผู้เชี่ยวชาญ", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนใจกว้างและยืดหยุ่น เก่งในการแก้ปัญหาเฉพาะหน้าอย่างมีเหตุผล คุณชอบสำรวจและทำความเข้าใจโลกรอบตัวผ่านการลงมือทำจริง และมักจะเยือกเย็นเมื่อเกิดวิกฤต<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การได้ลงมือทำ การแก้ปัญหาที่ท้าทาย และอิสระในการสำรวจสิ่งต่างๆ ด้วยวิธีการของตัวเอง คุณเรียนรู้ได้ดีที่สุดจากประสบการณ์ตรง" 
            },
            "ISFP": { 
                title: "นักผจญภัย", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 7.85l-4.24-4.24a2 2 0 0 0-2.83 0l-2.83 2.83a2 2 0 0 0 0 2.83l4.24 4.24a2 2 0 0 0 2.83 0l2.83-2.83a2 2 0 0 0 0-2.83z"></path><path d="M14 12l-4.24-4.24a2 2 0 0 0-2.83 0L2.83 11.9a2 2 0 0 0 0 2.83L7.07 19a2 2 0 0 0 2.83 0l4.24-4.24"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นศิลปินโดยแท้จริง รักอิสระ มีเสน่ห์ และเปิดรับประสบการณ์ใหม่ๆ อยู่เสมอ คุณใช้ชีวิตอยู่กับปัจจุบันและมีความสุขกับการแสดงออกผ่านความงามและสุนทรียภาพรอบตัว<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การแสดงออกถึงตัวตน ความงาม และอิสระในการทำตามแรงบันดาลใจ คุณมักจะมองหาวิธีที่จะทำให้โลกรอบตัวน่าอยู่และสวยงามขึ้น" 
            },
            "INFP": { 
                title: "ผู้ไกล่เกลี่ย", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนมองโลกในแง่ดี มีอุดมการณ์ และขับเคลื่อนด้วยคุณค่าภายในใจอย่างแรงกล้า คุณมีความคิดสร้างสรรค์และปรารถนาที่จะทำให้โลกนี้น่าอยู่ขึ้นสำหรับทุกคน<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความถูกต้อง ความจริงใจ และการช่วยเหลือผู้อื่นให้ค้นพบศักยภาพของตนเอง คุณเชื่อมั่นในพลังของความดีงามและพยายามทำทุกอย่างให้สอดคล้องกับความเชื่อนั้น" 
            },
            "INTP": { 
                title: "นักตรรกะ", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"></path><path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"></path><path d="M12 4v2"></path><path d="M12 18v2"></path><path d="M4 12h2"></path><path d="M18 12h2"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณมีความกระหายในความรู้และทฤษฎีต่างๆ อย่างไม่สิ้นสุด คุณชอบวิเคราะห์รูปแบบ ค้นหาความจริง และแก้ปัญหาที่ซับซ้อนด้วยมุมมองที่ไม่เหมือนใครและเฉียบแหลม<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความเข้าใจในหลักการทำงานของสิ่งต่างๆ การค้นพบตรรกะที่ซ่อนอยู่ และการสร้างสรรค์แนวคิดใหม่ๆ ที่ยังไม่มีใครเคยคิด" 
            },
            "ESTP": { 
                title: "ผู้ประกอบการ", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2z"></polygon></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนฉลาด มีพลัง และเข้ากับสถานการณ์ได้ดีเยี่ยม คุณชอบความท้าทายและการลงมือทำ และมักจะกระโดดเข้าหาโอกาสใหม่ๆ ด้วยความกล้าหาญและไหวพริบ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การได้สัมผัสประสบการณ์ที่น่าตื่นเต้น การแก้ปัญหาเฉพาะหน้า และการสร้างผลกระทบที่มองเห็นได้จริง คุณชอบที่จะเป็นศูนย์กลางของเหตุการณ์" 
            },
            "ESFP": { 
                title: "ผู้มอบความบันเทิง", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนสนุกสนาน มีชีวิตชีวา และเป็นมิตรโดยธรรมชาติ คุณชอบเข้าสังคมและสร้างความสุขให้กับคนรอบข้าง และมีความสามารถพิเศษในการทำให้ทุกช่วงเวลาน่าจดจำ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การได้แบ่งปันความสุข การเป็นจุดสนใจ และการใช้ชีวิตอย่างเต็มที่ คุณเชื่อว่าชีวิตคือการเฉลิมฉลองและพร้อมที่จะสร้างสีสันให้ทุกที่ที่ไป" 
            },
            "ENFP": { 
                title: "นักรณรงค์", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 12h-8a2 2 0 1 0 0 4h3a2 2 0 1 1 0 4H4"></path><path d="M4 8h13a2 2 0 1 1 0 4H9a2 2 0 1 0 0 4h1"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนกระตือรือร้น มีความคิดสร้างสรรค์ และเข้าสังคมเก่ง คุณสามารถสร้างความเชื่อมโยงทางอารมณ์กับผู้คนได้อย่างรวดเร็วและมองเห็นความเป็นไปได้ที่น่าตื่นเต้นในทุกสิ่ง<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การสำรวจไอเดียใหม่ๆ การสร้างความสัมพันธ์ที่มีความหมาย และอิสระในการแสดงออก คุณเชื่อว่าทุกสิ่งเป็นไปได้และพร้อมที่จะสร้างแรงบันดาลใจให้คนอื่นเห็นเช่นกัน" 
            },
            "ENTP": { 
                title: "นักโต้วาที", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนฉลาดและช่างสงสัย คุณสนุกกับการท้าทายความคิดเดิมๆ และสำรวจแนวคิดใหม่ๆ จากทุกมุมมอง การโต้วาทีทางปัญญาคือสนามเด็กเล่นของคุณ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การเอาชนะความท้าทายทางความคิด การทำความเข้าใจระบบที่ซับซ้อน และการค้นหาวิธีการใหม่ๆ ในการแก้ปัญหา คุณไม่กลัวที่จะตั้งคำถามกับทุกสิ่ง" 
            },
            "ESTJ": { 
                title: "ผู้บริหาร", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22V10"></path><path d="M12 10l-4 4"></path><path d="M12 10l4 4"></path><path d="M12 2L8 6h8L12 2z"></path><path d="M4 14h16"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นผู้จัดการที่ยอดเยี่ยม มีความสามารถในการบริหารจัดการสิ่งต่างๆ และผู้คนได้อย่างมีประสิทธิภาพ คุณยึดมั่นในหลักการ ความจริง และพร้อมที่จะเป็นผู้นำในการสร้างระเบียบ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ประสิทธิภาพ ความสำเร็จ และการสร้างระบบที่มีเสถียรภาพ คุณเชื่อว่าการทำตามกฎและขั้นตอนที่ถูกต้องคือหนทางที่ดีที่สุดสู่ความสำเร็จ" 
            },
            "ESFJ": { 
                title: "ผู้ให้คำปรึกษา", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นคนชอบเข้าสังคม เป็นที่รัก และใส่ใจผู้อื่นอย่างมาก คุณมีความสุขที่ได้ช่วยเหลือและสนับสนุนคนรอบข้างให้บรรลุเป้าหมาย และมักจะเป็นศูนย์กลางของกลุ่มเพื่อนเสมอ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การสร้างความสัมพันธ์ที่ดี การได้รับการยอมรับจากสังคม และการทำให้คนรอบข้างมีความสุข คุณรู้สึกมีคุณค่าเมื่อได้เป็นส่วนหนึ่งของชุมชนที่อบอุ่น" 
            },
            "ENFJ": { 
                title: "ตัวเอก", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นผู้นำที่มีเสน่ห์และสร้างแรงบันดาลใจโดยธรรมชาติ คุณมีความสามารถในการเข้าใจและชี้นำผู้คน และมักจะดึงดูดผู้คนให้ทำตามวิสัยทัศน์ของคุณเพื่อสร้างสิ่งที่ดีกว่า<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การช่วยเหลือให้ผู้คนเติบโต การสร้างการเปลี่ยนแปลงเชิงบวกในสังคม และการทำตามเป้าหมายที่มีความหมายยิ่งใหญ่ คุณเชื่อในศักยภาพของมนุษย์" 
            },
            "ENTJ": { 
                title: "ผู้บัญชาการ", 
                icon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>`,
                description: "<b>ลักษณะเด่น:</b> คุณเป็นผู้นำที่กล้าหาญ มีจินตนาการ และมีความมุ่งมั่นสูง คุณมองเห็นความท้าทายเป็นโอกาส และสามารถสร้างแผนการที่ชัดเจนเพื่อนำทีมไปสู่ความสำเร็จได้อย่างเด็ดเดี่ยว<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การบรรลุเป้าหมายที่ยิ่งใหญ่ การสร้างผลลัพธ์ที่มีประสิทธิภาพ และการเป็นผู้นำที่สร้างการเปลี่ยนแปลง คุณไม่กลัวที่จะตัดสินใจเรื่องยากๆ เพื่อความสำเร็จในระยะยาว" 
            }
        };

        let currentQuestionIndex = 0;
        let userAnswers = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };

        function startGame() {
            currentQuestionIndex = 0;
            userAnswers = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
            gameContainer.removeEventListener('mousemove', handleMouseMove);
            startHeading.style.transform = '';
            startParagraph.style.transform = '';
            startBtn.style.transform = '';
            displayQuestion();
        }

        function displayQuestion() {
            if (currentQuestionIndex >= questions.length) {
                showResult();
                return;
            }
            const currentQuestion = questions[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            choicesContainer.innerHTML = '';
            currentQuestion.choices.forEach((choice, index) => {
                const card = document.createElement('div');
                card.classList.add('choice-card', 'fade-in');
                card.style.animationDelay = `${index * 100}ms`;

                card.innerHTML += icons[choice.value]; // Add icon SVG

                const text = document.createElement('p');
                text.textContent = choice.text;
                text.classList.add('text-lg', 'text-slate-200');

                card.appendChild(text);
                card.dataset.value = choice.value;
                card.addEventListener('click', handleChoice);
                choicesContainer.appendChild(card);
            });
            updateProgress();
        }
        
        function handleChoice(event) {
            const selectedCard = event.currentTarget;
            const selectedValue = selectedCard.dataset.value;
            userAnswers[selectedValue]++;
            currentQuestionIndex++;
            displayQuestion();
        }

        function updateProgress() {
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            progressText.textContent = `คำถามที่ ${currentQuestionIndex + 1} จาก ${questions.length}`;
            progressBar.style.width = `${progress}%`;
        }

        function showResult() {
            const mbtiType = calculateResult();
            const resultData = results[mbtiType];

            resultIconContainer.innerHTML = resultData.icon;
            const iconSvg = resultIconContainer.querySelector('svg');
            if(iconSvg) {
                iconSvg.classList.add('w-20', 'h-20', 'mx-auto', 'text-amber-400');
            }

            resultType.textContent = mbtiType;
            resultTitle.textContent = resultData.title;
            resultDescription.innerHTML = resultData.description;
            questionScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        }
        
        function restartGame() {
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            gameContainer.addEventListener('mousemove', handleMouseMove);
        }

        function calculateResult() {
            let type = '';
            type += userAnswers.E > userAnswers.I ? 'E' : 'I';
            type += userAnswers.S > userAnswers.N ? 'S' : 'N';
            type += userAnswers.T > userAnswers.F ? 'T' : 'F';
            type += userAnswers.J > userAnswers.P ? 'J' : 'P';
            return type;
        }

        function handleMouseMove(e) {
            const { clientX, clientY } = e;
            const { offsetWidth, offsetHeight } = gameContainer;
            
            const xPos = (clientX / offsetWidth - 0.5);
            const yPos = (clientY / offsetHeight - 0.5);
            
            const headingMaxOffset = 12;
            const pMaxOffset = 8;
            const btnMaxOffset = 4;

            startHeading.style.transform = `translateX(${xPos * headingMaxOffset}px) translateY(${yPos * headingMaxOffset}px)`;
            startParagraph.style.transform = `translateX(${xPos * pMaxOffset}px) translateY(${yPos * pMaxOffset}px)`;
            startBtn.style.transform = `translateX(${xPos * btnMaxOffset}px) translateY(${yPos * btnMaxOffset}px)`;
        }

        startBtn.addEventListener('click', startGame);
        restartBtn.addEventListener('click', restartGame);
        gameContainer.addEventListener('mousemove', handleMouseMove);
    </script>
</body>
</html>
