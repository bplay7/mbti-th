<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-key="title">เกมจิตวิทยา: การเดินทางค้นหาตัวตน MBTI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Sarabun:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* --- Base Styles --- */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }
        body { font-family: 'Sarabun', 'Inter', sans-serif; background-color: #030712; overflow: hidden; }
        .card { background: rgba(100, 116, 139, 0.1); backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.1); }
        
        /* --- Animations & Transitions --- */
        .fade-in { animation: fadeIn 0.8s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        #start-screen h1, #start-screen p, #start-btn { transition: transform 0.2s linear; will-change: transform; }

        /* --- Component Styles --- */
        .choice-card { background: rgba(30, 41, 59, 0.5); border: 2px solid rgba(100, 116, 139, 0.5); border-radius: 1rem; padding: 1.5rem; width: 100%; max-width: 280px; text-align: center; cursor: pointer; transition: all 0.3s ease; min-height: 180px; display: flex; align-items: center; justify-content: center; flex-direction: column; }
        .choice-card:hover { transform: scale(1.05) translateY(-5px); border-color: #f59e0b; background: rgba(51, 65, 85, 0.7); box-shadow: 0 10px 30px rgba(245, 158, 11, 0.2); }
        .choice-card svg { margin-bottom: 1rem; width: 3rem; height: 3rem; color: #fcd34d; transition: color 0.3s ease; }
        .choice-card:hover svg { color: #f59e0b; }
        
        /* --- Top Right Controls --- */
        #top-right-controls { position: fixed; top: 1rem; right: 1rem; z-index: 50; display: flex; align-items: center; gap: 0.75rem; }
        .control-btn { background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); color: white; padding: 0.5rem 1rem; border-radius: 9999px; transition: background-color 0.2s; display: flex; align-items: center; justify-content: center; }
        .control-btn:hover { background: rgba(255, 255, 255, 0.2); }
        .control-btn.active { background-color: #f59e0b; color: #030712; font-weight: bold; }
        #music-toggle-btn { width: 2.5rem; height: 2.5rem; padding: 0; }
    </style>
</head>
<body class="text-white">

    <canvas id="bg-canvas"></canvas>
    
    <!-- Audio element for background music -->
    <audio id="background-music" loop preload="auto">
        <!-- Instrumental Music -->
        <source src="https://khoj-pro.s3.us-west-2.amazonaws.com/62a6288f-f56d-4950-b66b-45233118f154/sound.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Top Right Controls: Language & Music -->
    <div id="top-right-controls">
        <div id="language-switcher" class="flex items-center gap-2">
            <button class="control-btn active" data-lang="th">ไทย</button>
            <button class="control-btn" data-lang="en">EN</button>
        </div>
        <button id="music-toggle-btn" class="control-btn">
            <svg id="icon-sound-on" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>
            <svg id="icon-sound-off" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="hidden"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><line x1="22" x2="16" y1="9" y2="15"/><line x1="16" x2="22" y1="9" y2="15"/></svg>
        </button>
    </div>

    <div id="game-container" class="min-h-screen flex items-center justify-center p-4">
        
        <!-- Start Screen -->
        <div id="start-screen" class="text-center fade-in w-full max-w-2xl">
            <h1 data-key="startTitle" class="text-4xl md:text-5xl font-bold mb-4 text-amber-300"></h1>
            <p data-key="startDesc" class="text-lg md:text-xl mb-8 mx-auto text-slate-300"></p>
            <button id="start-btn" data-key="startButton" class="bg-amber-500 hover:bg-amber-400 text-slate-900 font-bold py-3 px-8 rounded-full text-xl shadow-lg transition-transform transform hover:scale-105"></button>
        </div>

        <!-- Question Screen -->
        <div id="question-screen" class="hidden w-full max-w-4xl fade-in">
            <div class="card rounded-2xl p-6 md:p-10 shadow-2xl">
                <div class="mb-2 text-center">
                    <p id="progress-text" class="text-sm text-amber-300"></p>
                    <div class="w-full bg-slate-700 rounded-full h-2.5 mt-1">
                        <div id="progress-bar" class="bg-amber-400 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
                <h2 id="question-text" class="text-2xl md:text-3xl font-bold my-8 text-center"></h2>
                <div id="choices-container" class="flex flex-col md:flex-row justify-center items-center gap-6 md:gap-8"></div>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-screen" class="hidden text-center w-full max-w-3xl fade-in">
             <div class="card rounded-2xl p-6 md:p-10 shadow-2xl">
                <div id="result-icon-container" class="mb-4"></div>
                <p data-key="resultPersonality" class="text-amber-300 text-lg"></p>
                <h2 id="result-type" class="text-5xl md:text-6xl font-bold my-3 text-white"></h2>
                <h3 id="result-title" class="text-2xl md:text-3xl font-semibold text-amber-400 mb-4"></h3>
                <p id="result-description" class="text-slate-300 mb-8 text-base md:text-lg text-left"></p>
                <button id="restart-btn" data-key="restartButton" class="bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 px-8 rounded-full text-lg transition-transform transform hover:scale-105"></button>
            </div>
        </div>
    </div>

    <script>
        // --- Canvas Background Script (No changes) ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let stars = [], mouse = { x: undefined, y: undefined };
        const maxStars = 200, connectRadius = 150;
        function setupCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            stars = [];
            for (let i = 0; i < maxStars; i++) {
                let x = Math.random() * canvas.width;
                let y = Math.random() * canvas.height;
                stars.push({ x, y, baseX: x, baseY: y, radius: Math.random() * 1.5 + 0.5, vx: 0, vy: 0, density: (Math.random() * 20) + 10, opacity: Math.random() * 0.5 + 0.5 });
            }
        }
        function drawCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            stars.forEach(star => {
                let dx_mouse = star.x - mouse.x, dy_mouse = star.y - mouse.y;
                let distance_mouse = Math.sqrt(dx_mouse * dx_mouse + dy_mouse * dy_mouse);
                let repulsion_radius = 100;
                if (mouse.x !== undefined && distance_mouse < repulsion_radius) {
                    let force = (repulsion_radius - distance_mouse) / repulsion_radius;
                    let angle = Math.atan2(dy_mouse, dx_mouse);
                    star.vx += force * Math.cos(angle) * 1.5;
                    star.vy += force * Math.sin(angle) * 1.5;
                }
                let dx_base = star.baseX - star.x, dy_base = star.baseY - star.y;
                star.vx += dx_base / star.density / 15;
                star.vy += dy_base / star.density / 15;
                star.vx *= 0.94;
                star.vy *= 0.94;
                star.x += star.vx;
                star.y += star.vy;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(240, 249, 255, ${star.opacity})`;
                ctx.fill();
            });
            ctx.lineWidth = 0.5;
            for (let i = 0; i < stars.length; i++) {
                if (mouse.x !== undefined) {
                    let distToMouse = Math.sqrt(Math.pow(stars[i].x - mouse.x, 2) + Math.pow(stars[i].y - mouse.y, 2));
                    if (distToMouse < connectRadius) {
                        ctx.beginPath();
                        ctx.moveTo(stars[i].x, stars[i].y);
                        ctx.lineTo(mouse.x, mouse.y);
                        ctx.strokeStyle = `rgba(224, 242, 254, ${1 - distToMouse / connectRadius})`;
                        ctx.stroke();
                    }
                }
                for (let j = i + 1; j < stars.length; j++) {
                    let dist = Math.sqrt(Math.pow(stars[i].x - stars[j].x, 2) + Math.pow(stars[i].y - stars[j].y, 2));
                    if (dist < connectRadius / 1.5) {
                        ctx.beginPath();
                        ctx.moveTo(stars[i].x, stars[i].y);
                        ctx.lineTo(stars[j].x, stars[j].y);
                        ctx.strokeStyle = `rgba(224, 242, 254, ${0.5 - dist / (connectRadius / 1.5)})`;
                        ctx.stroke();
                    }
                }
            }
        }
        function animateCanvas() { drawCanvas(); requestAnimationFrame(animateCanvas); }
        window.addEventListener('mousemove', e => { mouse.x = e.clientX; mouse.y = e.clientY; });
        window.addEventListener('mouseout', () => { mouse.x = undefined; mouse.y = undefined; });
        window.addEventListener('resize', setupCanvas);
        setupCanvas();
        animateCanvas();

        // --- Game Logic Script ---
        const gameContainer = document.getElementById('game-container');
        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultScreen = document.getElementById('result-screen');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionText = document.getElementById('question-text');
        const choicesContainer = document.getElementById('choices-container');
        const progressText = document.getElementById('progress-text');
        const progressBar = document.getElementById('progress-bar');
        const resultType = document.getElementById('result-type');
        const resultTitle = document.getElementById('result-title');
        const resultDescription = document.getElementById('result-description');
        const resultIconContainer = document.getElementById('result-icon-container');
        const startHeading = document.querySelector('#start-screen h1');
        const startParagraph = document.querySelector('#start-screen p');
        const bgMusic = document.getElementById('background-music');
        const musicToggleBtn = document.getElementById('music-toggle-btn');
        const iconSoundOn = document.getElementById('icon-sound-on');
        const iconSoundOff = document.getElementById('icon-sound-off');

        let currentQuestionIndex = 0;
        let userAnswers = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
        let currentLanguage = 'th';
        let lastResultType = null;
        let hasInteracted = false;

        const icons = {
            E: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>`,
            I: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/></svg>`,
            S: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>`,
            N: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z"/></svg>`,
            T: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 9.5s1.5-4.5 10-4.5 10 4.5 10 4.5-1.5 4.5-10 4.5-10-4.5-10-4.5Z"/><path d="M12 11a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M12 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z"/><path d="M12 17a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1Z"/></svg>`,
            F: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/></svg>`,
            J: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>`,
            P: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"/></svg>`
        };
        const resultIcons = {
            "ISTJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="8" y1="12" x2="16" y2="12"/><line x1="12" y1="8" x2="12" y2="16"/></svg>`, "ISFJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg>`, "INFJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/><path d="M12 10a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/></svg>`, "INTJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20z"/><path d="M2 12h20"/></svg>`, "ISTP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>`, "ISFP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 7.85l-4.24-4.24a2 2 0 0 0-2.83 0l-2.83 2.83a2 2 0 0 0 0 2.83l4.24 4.24a2 2 0 0 0 2.83 0l2.83-2.83a2 2 0 0 0 0-2.83z"/><path d="M14 12l-4.24-4.24a2 2 0 0 0-2.83 0L2.83 11.9a2 2 0 0 0 0 2.83L7.07 19a2 2 0 0 0 2.83 0l4.24-4.24"/></svg>`, "INFP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>`, "INTP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22a10 10 0 1 1 0-20 10 10 0 0 1 0 20z"/><path d="M12 16a4 4 0 1 0 0-8 4 4 0 0 0 0 8z"/><path d="M12 4v2"/><path d="M12 18v2"/><path d="M4 12h2"/><path d="M18 12h2"/></svg>`, "ESTP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2z"/></svg>`, "ESFP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`, "ENFP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 12h-8a2 2 0 1 0 0 4h3a2 2 0 1 1 0 4H4"/><path d="M4 8h13a2 2 0 1 1 0 4H9a2 2 0 1 0 0 4h1"/></svg>`, "ENTP": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>`, "ESTJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22V10"/><path d="M12 10l-4 4"/><path d="M12 10l4 4"/><path d="M12 2L8 6h8L12 2z"/><path d="M4 14h16"/></svg>`, "ESFJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><polyline points="17 11 19 13 23 9"/></svg>`, "ENFJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>`, "ENTJ": `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8a6 6 0 0 0-12 0c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>`
        };
        const content = {
            th: { /* ... Thai content ... */ },
            en: { /* ... English content ... */ }
        };
        // NOTE: Full content object is omitted for brevity but is included in the actual code block.
        // This is a placeholder for the full object from the provided context.
        content.th = { title: "เกมจิตวิทยา: การเดินทางค้นหาตัวตน MBTI", startTitle: "การเดินทางค้นหาตัวตน", startDesc: "ยินดีต้อนรับสู่การผจญภัยที่ทุกการตัดสินใจจะสะท้อนตัวตนที่แท้จริงของคุณ คุณพร้อมที่จะค้นพบบุคลิกภาพที่ซ่อนอยู่แล้วหรือยัง?", startButton: "เริ่มการเดินทาง", progressText: "คำถามที่ {current} จาก {total}", resultPersonality: "บุคลิกภาพของคุณคือ...", restartButton: "ทดสอบอีกครั้ง", questions: [ { question: "คุณได้รับเชิญไปงานเลี้ยงใหญ่ใจกลางเมือง เมื่อไปถึง คุณจะ...", choices: [{ text: "ตรงเข้าไปทักทายผู้คนใหม่ๆ และร่วมวงสนทนาอย่างสนุกสนาน", value: "E" }, { text: "มองหาเพื่อนสนิท หรือหามุมสงบเพื่อสังเกตการณ์บรรยากาศก่อน", value: "I" }] }, { question: "หลังเลิกงานที่เหนื่อยล้า คุณเลือกที่จะ...", choices: [{ text: "ออกไปสังสรรค์กับเพื่อนเพื่อผ่อนคลาย", value: "E" }, { text: "กลับบ้านไปใช้เวลาเงียบๆ คนเดียวเพื่อชาร์จพลัง", value: "I" }] }, { question: "เมื่อต้องทำงานกลุ่ม คุณมักจะ...", choices: [{ text: "เป็นคนเริ่มบทสนทนาและระดมความคิดเห็น", value: "E" }, { text: "เป็นผู้ฟังที่ดีและคิดวิเคราะห์ก่อนเสนอความเห็น", value: "I" }] }, { question: "โทรศัพท์ของคุณดังขึ้นจากเบอร์ที่ไม่รู้จัก คุณจะ...", choices: [{ text: "รับสายทันทีด้วยความสงสัย", value: "E" }, { text: "ปล่อยให้มันดังไปก่อนแล้วค่อยเช็คว่าเป็นใคร", value: "I" }] }, { question: "ในวันหยุดยาว คุณอยาก...", choices: [{ text: "ไปเที่ยวในที่ที่มีผู้คนและกิจกรรมมากมาย", value: "E" }, { text: "ไปพักผ่อนในสถานที่สงบๆ เป็นส่วนตัว", value: "I" }] }, { question: "คุณพบหีบสมบัติโบราณที่ถูกล็อคไว้ วิธีที่คุณจะพยายามเปิดมันคือ...", choices: [{ text: "ตรวจสอบกลไก สัมผัสวัสดุ และหาวิธีเปิดที่เป็นรูปธรรม", value: "S" }, { text: "จินตนาการถึงความเป็นไปได้ต่างๆ ว่ากุญแจอาจซ่อนอยู่ที่ไหน", value: "N" }] }, { question: "เมื่อต้องเรียนรู้ทักษะใหม่ๆ คุณจะรู้สึกมั่นใจที่สุดเมื่อ...", choices: [{ text: "ได้ลงมือปฏิบัติจริงและเรียนรู้จากประสบการณ์ตรง", value: "S" }, { text: "เข้าใจถึงแนวคิดและทฤษฎีเบื้องหลังทั้งหมดก่อน", value: "N" }] }, { question: "เมื่อมีคนอธิบายไอเดียใหม่ๆ ให้คุณฟัง คุณจะสนใจ...", choices: [{ text: "ขั้นตอนและวิธีการนำไปใช้ได้จริง", value: "S" }, { text: "แนวคิดภาพรวมและความเป็นไปได้ในอนาคต", value: "N" }] }, { question: "คุณชอบเรื่องราวแบบไหนมากกว่า?", choices: [{ text: "เรื่องที่อิงจากเหตุการณ์จริงและมีรายละเอียดชัดเจน", value: "S" }, { text: "เรื่องแนวเปรียบเทียบ ใช้สัญลักษณ์ และมีความหมายแฝง", value: "N" }] }, { question: "เวลาประกอบเฟอร์นิเจอร์ คุณจะ...", choices: [{ text: "อ่านคู่มือและทำตามทีละขั้นตอนอย่างละเอียด", value: "S" }, { text: "ดูภาพรวมแล้วลองประกอบตามความเข้าใจของตัวเอง", value: "N" }] }, { question: "เพื่อนสนิทของคุณกำลังเสียใจอย่างหนักเพราะทำผิดพลาดเรื่องงาน คุณจะปลอบใจเขาโดย...", choices: [{ text: "วิเคราะห์สถานการณ์อย่างเป็นกลางและเสนอแนวทางแก้ไขที่เป็นเหตุเป็นผล", value: "T" }, { text: "รับฟังความรู้สึกของเขาอย่างตั้งใจ และให้กำลังใจเพื่อให้เขารู้สึกดีขึ้น", value: "F" }] }, { question: "เมื่อต้องตัดสินใจเรื่องสำคัญ คุณให้ความสำคัญกับ...", choices: [{ text: "ข้อมูลที่เป็นกลางและหลักการที่ถูกต้อง", value: "T" }, { text: "ผลกระทบที่จะเกิดกับความรู้สึกของคนอื่น", value: "F" }] }, { question: "เพื่อนของคุณมาขอคำปรึกษา คุณมักจะ...", choices: [{ text: "ช่วยชี้ให้เห็นข้อดีข้อเสียอย่างตรงไปตรงมา", value: "T" }, { text: "ปลอบโยนและแสดงความเห็นใจในความรู้สึกของเขา", value: "F" }] }, { question: "คำชมแบบไหนที่ทำให้คุณรู้สึกดีกว่า?", choices: [{ text: "คุณทำงานได้มีประสิทธิภาพและมีเหตุผลมาก", value: "T" }, { text: "คุณเป็นคนที่น่ารักและใส่ใจคนอื่นจริงๆ", value: "F" }] }, { question: "เมื่อดูหนังฉากซึ้งๆ คุณมักจะ...", choices: [{ text: "ชื่นชมในบทภาพยนตร์และการแสดง", value: "T" }, { text: "รู้สึกอินและมีอารมณ์ร่วมไปกับตัวละคร", value: "F" }] }, { question: "ถึงเวลาวางแผนการเดินทางครั้งใหญ่! คุณชอบแบบไหนมากกว่ากัน?", choices: [{ text: "จัดตารางเดินทางที่ชัดเจน จองที่พักและกิจกรรมไว้ล่วงหน้าทั้งหมด", value: "J" }, { text: "มีแค่จุดหมายปลายทาง ที่เหลือปล่อยให้เป็นการผจญภัยเฉพาะหน้า", value: "P" }] }, { question: "โต๊ะทำงานของคุณส่วนใหญ่เป็นแบบไหน?", choices: [{ text: "เป็นระเบียบเรียบร้อย ของทุกอย่างมีที่ของมัน", value: "J" }, { text: "มีของวางอยู่บ้าง แต่คุณรู้ว่าอะไรอยู่ตรงไหน", value: "P" }] }, { question: "เมื่อมีงานด่วนเข้ามาแทรก คุณจะรู้สึก...", choices: [{ text: "เครียดเล็กน้อย เพราะมันกระทบกับแผนที่วางไว้", value: "J" }, { text: "ไม่เป็นไร พร้อมปรับเปลี่ยนแผนได้เสมอ", value: "P" }] }, { question: "คุณชอบที่จะ...", choices: [{ text: "ตัดสินใจให้เด็ดขาดและทำเรื่องต่างๆ ให้เสร็จสิ้นไป", value: "J" }, { text: "เปิดทางเลือกไว้เผื่อมีข้อมูลหรือโอกาสที่ดีกว่าเข้ามา", value: "P" }] }, { question: "เพื่อนชวนไปเที่ยวแบบกะทันหัน คุณมักจะ...", choices: [{ text: "ลังเล เพราะอยากรู้แผนการที่แน่นอนก่อน", value: "J" }, { text: "ตกลงไปทันที! ชอบความเซอร์ไพรส์", value: "P" }] } ], results: { "ISTJ": { title: "นักคำนวณ", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนจริงจัง มีความรับผิดชอบสูง และเชื่อถือได้สูงมาก คุณยึดมั่นในข้อเท็จจริง ตรรกะ และหลักการที่พิสูจน์ได้ ทำงานอย่างเป็นระบบและมีระเบียบวินัยเพื่อให้บรรลุเป้าหมายที่วางไว้<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความมั่นคง ความเป็นระเบียบ และการทำหน้าที่ของตนเองให้สำเร็จลุล่วง คุณเป็นคนที่ซื่อสัตย์และภักดีอย่างยิ่งต่อองค์กรและคนที่คุณรัก" }, "ISFJ": { title: "ผู้พิทักษ์", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนอบอุ่น ใจดี ทุ่มเท และใส่ใจในความต้องการของผู้อื่นอย่างน่าทึ่ง คุณมีความจำดีเยี่ยมในเรื่องรายละเอียดเล็กๆ น้อยๆ ที่เกี่ยวกับคนรอบข้าง และพร้อมจะปกป้องคนที่คุณรักเสมอ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การสร้างความสามัคคี การช่วยเหลือผู้อื่น และการดูแลรักษาสิ่งที่ดีงามในสังคม คุณรู้สึกดีเมื่อได้เป็นส่วนหนึ่งที่ทำให้คนอื่นมีความสุข" }, "INFJ": { title: "ผู้แนะนำ", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนเงียบขรึมแต่มีความมุ่งมั่นสูง เปี่ยมด้วยอุดมการณ์และความคิดสร้างสรรค์ คุณมีความสามารถพิเศษในการเข้าใจผู้คนได้อย่างลึกซึ้ง และมักจะสร้างแรงบันดาลใจให้ผู้อื่นทำสิ่งที่ดีงาม<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การทำตามอุดมการณ์ การช่วยเหลือให้โลกดีขึ้น และการค้นหาความหมายที่ลึกซึ้งของชีวิต คุณมักจะมองเห็นศักยภาพในตัวผู้อื่น" }, "INTJ": { title: "นักออกแบบ", description: "<b>ลักษณะเด่น:</b> คุณเป็นนักคิดเชิงกลยุทธ์ที่มีแผนการสำหรับทุกสิ่ง คุณมีความคิดสร้างสรรค์ มองการณ์ไกล และมีความสามารถในการผลักดันความคิดที่ซับซ้อนให้กลายเป็นความจริงได้อย่างน่าทึ่ง<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความรู้ การพัฒนาตนเอง และการปรับปรุงระบบให้มีประสิทธิภาพสูงสุด คุณไม่หยุดนิ่งที่จะเรียนรู้และมองหาแนวทางที่ดีกว่าเสมอ" }, "ISTP": { title: "ผู้เชี่ยวชาญ", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนใจกว้างและยืดหยุ่น เก่งในการแก้ปัญหาเฉพาะหน้าอย่างมีเหตุผล คุณชอบสำรวจและทำความเข้าใจโลกรอบตัวผ่านการลงมือทำจริง และมักจะเยือกเย็นเมื่อเกิดวิกฤต<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การได้ลงมือทำ การแก้ปัญหาที่ท้าทาย และอิสระในการสำรวจสิ่งต่างๆ ด้วยวิธีการของตัวเอง คุณเรียนรู้ได้ดีที่สุดจากประสบการณ์ตรง" }, "ISFP": { title: "นักผจญภัย", description: "<b>ลักษณะเด่น:</b> คุณเป็นศิลปินโดยแท้จริง รักอิสระ มีเสน่ห์ และเปิดรับประสบการณ์ใหม่ๆ อยู่เสมอ คุณใช้ชีวิตอยู่กับปัจจุบันและมีความสุขกับการแสดงออกผ่านความงามและสุนทรียภาพรอบตัว<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การแสดงออกถึงตัวตน ความงาม และอิสระในการทำตามแรงบันดาลใจ คุณมักจะมองหาวิธีที่จะทำให้โลกรอบตัวน่าอยู่และสวยงามขึ้น" }, "INFP": { title: "ผู้ไกล่เกลี่ย", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนมองโลกในแง่ดี มีอุดมการณ์ และขับเคลื่อนด้วยคุณค่าภายในใจอย่างแรงกล้า คุณมีความคิดสร้างสรรค์และปรารถนาที่จะทำให้โลกนี้น่าอยู่ขึ้นสำหรับทุกคน<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความถูกต้อง ความจริงใจ และการช่วยเหลือผู้อื่นให้ค้นพบศักยภาพของตนเอง คุณเชื่อมั่นในพลังของความดีงามและพยายามทำทุกอย่างให้สอดคล้องกับความเชื่อนั้น" }, "INTP": { title: "นักตรรกะ", description: "<b>ลักษณะเด่น:</b> คุณมีความกระหายในความรู้และทฤษฎีต่างๆ อย่างไม่สิ้นสุด คุณชอบวิเคราะห์รูปแบบ ค้นหาความจริง และแก้ปัญหาที่ซับซ้อนด้วยมุมมองที่ไม่เหมือนใครและเฉียบแหลม<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ความเข้าใจในหลักการทำงานของสิ่งต่างๆ การค้นพบตรรกะที่ซ่อนอยู่ และการสร้างสรรค์แนวคิดใหม่ๆ ที่ยังไม่มีใครเคยคิด" }, "ESTP": { title: "ผู้ประกอบการ", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนฉลาด มีพลัง และเข้ากับสถานการณ์ได้ดีเยี่ยม คุณชอบความท้าทายและการลงมือทำ และมักจะกระโดดเข้าหาโอกาสใหม่ๆ ด้วยความกล้าหาญและไหวพริบ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การได้สัมผัสประสบการณ์ที่น่าตื่นเต้น การแก้ปัญหาเฉพาะหน้า และการสร้างผลกระทบที่มองเห็นได้จริง คุณชอบที่จะเป็นศูนย์กลางของเหตุการณ์" }, "ESFP": { title: "ผู้มอบความบันเทิง", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนสนุกสนาน มีชีวิตชีวา และเป็นมิตรโดยธรรมชาติ คุณชอบเข้าสังคมและสร้างความสุขให้กับคนรอบข้าง และมีความสามารถพิเศษในการทำให้ทุกช่วงเวลาน่าจดจำ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การได้แบ่งปันความสุข การเป็นจุดสนใจ และการใช้ชีวิตอย่างเต็มที่ คุณเชื่อว่าชีวิตคือการเฉลิมฉลองและพร้อมที่จะสร้างสีสันให้ทุกที่ที่ไป" }, "ENFP": { title: "นักรณรงค์", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนกระตือรือร้น มีความคิดสร้างสรรค์ และเข้าสังคมเก่ง คุณสามารถสร้างความเชื่อมโยงทางอารมณ์กับผู้คนได้อย่างรวดเร็วและมองเห็นความเป็นไปได้ที่น่าตื่นเต้นในทุกสิ่ง<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การสำรวจไอเดียใหม่ๆ การสร้างความสัมพันธ์ที่มีความหมาย และอิสระในการแสดงออก คุณเชื่อว่าทุกสิ่งเป็นไปได้และพร้อมที่จะสร้างแรงบันดาลใจให้คนอื่นเห็นเช่นกัน" }, "ENTP": { title: "นักโต้วาที", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนฉลาดและช่างสงสัย คุณสนุกกับการท้าทายความคิดเดิมๆ และสำรวจแนวคิดใหม่ๆ จากทุกมุมมอง การโต้วาทีทางปัญญาคือสนามเด็กเล่นของคุณ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การเอาชนะความท้าทายทางความคิด การทำความเข้าใจระบบที่ซับซ้อน และการค้นหาวิธีการใหม่ๆ ในการแก้ปัญหา คุณไม่กลัวที่จะตั้งคำถามกับทุกสิ่ง" }, "ESTJ": { title: "ผู้บริหาร", description: "<b>ลักษณะเด่น:</b> คุณเป็นผู้จัดการที่ยอดเยี่ยม มีความสามารถในการบริหารจัดการสิ่งต่างๆ และผู้คนได้อย่างมีประสิทธิภาพ คุณยึดมั่นในหลักการ ความจริง และพร้อมที่จะเป็นผู้นำในการสร้างระเบียบ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> ประสิทธิภาพ ความสำเร็จ และการสร้างระบบที่มีเสถียภาพ คุณเชื่อว่าการทำตามกฎและขั้นตอนที่ถูกต้องคือหนทางที่ดีที่สุดสู่ความสำเร็จ" }, "ESFJ": { title: "ผู้ให้คำปรึกษา", description: "<b>ลักษณะเด่น:</b> คุณเป็นคนชอบเข้าสังคม เป็นที่รัก และใส่ใจผู้อื่นอย่างมาก คุณมีความสุขที่ได้ช่วยเหลือและสนับสนุนคนรอบข้างให้บรรลุเป้าหมาย และมักจะเป็นศูนย์กลางของกลุ่มเพื่อนเสมอ<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การสร้างความสัมพันธ์ที่ดี การได้รับการยอมรับจากสังคม และการทำให้คนรอบข้างมีความสุข คุณรู้สึกมีคุณค่าเมื่อได้เป็นส่วนหนึ่งของชุมชนที่อบอุ่น" }, "ENFJ": { title: "ตัวเอก", description: "<b>ลักษณะเด่น:</b> คุณเป็นผู้นำที่มีเสน่ห์และสร้างแรงบันดาลใจโดยธรรมชาติ คุณมีความสามารถในการเข้าใจและชี้นำผู้คน และมักจะดึงดูดผู้คนให้ทำตามวิสัยทัศน์ของคุณเพื่อสร้างสิ่งที่ดีกว่า<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การช่วยเหลือให้ผู้คนเติบโต การสร้างการเปลี่ยนแปลงเชิงบวกในสังคม และการทำตามเป้าหมายที่มีความหมายยิ่งใหญ่ คุณเชื่อในศักยภาพของมนุษย์" }, "ENTJ": { title: "ผู้บัญชาการ", description: "<b>ลักษณะเด่น:</b> คุณเป็นผู้นำที่กล้าหาญ มีจินตนาการ และมีความมุ่งมั่นสูง คุณมองเห็นความท้าทายเป็นโอกาส และสามารถสร้างแผนการที่ชัดเจนเพื่อนำทีมไปสู่ความสำเร็จได้อย่างเด็ดเดี่ยว<br><br><b>สิ่งที่ขับเคลื่อนคุณ:</b> การบรรลุเป้าหมายที่ยิ่งใหญ่ การสร้างผลลัพธ์ที่มีประสิทธิภาพ และการเป็นผู้นำที่สร้างการเปลี่ยนแปลง คุณไม่กลัวที่จะตัดสินใจเรื่องยากๆ เพื่อความสำเร็จในระยะยาว" } } };
        content.en = { title: "Psychology Game: A Journey of Self-Discovery (MBTI)", startTitle: "A Journey of Self-Discovery", startDesc: "Welcome to an adventure where every decision reflects your true self. Are you ready to discover your hidden personality?", startButton: "Start the Journey", progressText: "Question {current} of {total}", resultPersonality: "Your personality type is...", restartButton: "Test Again", questions: [ { question: "You're invited to a large party in the city. When you arrive, you...", choices: [{ text: "Immediately greet new people and join lively conversations.", value: "E" }, { text: "Look for a close friend, or find a quiet corner to observe the atmosphere first.", value: "I" }] }, { question: "After a tiring day at work, you choose to...", choices: [{ text: "Go out with friends to relax and unwind.", value: "E" }, { text: "Go home to spend some quiet time alone to recharge.", value: "I" }] }, { question: "When working in a group, you tend to...", choices: [{ text: "Initiate conversations and brainstorm ideas.", value: "E" }, { text: "Be a good listener and analyze things before offering an opinion.", value: "I" }] }, { question: "Your phone rings from an unknown number. You...", choices: [{ text: "Answer it immediately out of curiosity.", value: "E" }, { text: "Let it ring and check later to see who it was.", value: "I" }] }, { question: "On a long holiday, you'd prefer to...", choices: [{ text: "Travel to a place with lots of people and activities.", value: "E" }, { text: "Relax in a quiet, private location.", value: "I" }] }, { question: "You find an ancient, locked treasure chest. How do you try to open it?", choices: [{ text: "Examine the mechanism, feel the material, and find a practical way to open it.", value: "S" }, { text: "Imagine the possibilities of where the key might be hidden.", value: "N" }] }, { question: "When learning a new skill, you feel most confident when...", choices: [{ text: "You get to practice it hands-on and learn from direct experience.", value: "S" }, { text: "You understand the underlying concepts and theories first.", value: "N" }] }, { question: "When someone explains a new idea, you are more interested in...", choices: [{ text: "The practical steps and how to apply it.", value: "S" }, { text: "The overall concept and its future possibilities.", value: "N" }] }, { question: "Which type of story do you prefer?", choices: [{ text: "Stories based on real events with clear details.", value: "S" }, { text: "Stories that are metaphorical, symbolic, and have hidden meanings.", value: "N" }] }, { question: "When assembling furniture, you...", choices: [{ text: "Read the manual and follow the instructions step-by-step.", value: "S" }, { text: "Look at the overall picture and try to assemble it based on your understanding.", value: "N" }] }, { question: "Your close friend is upset about a mistake at work. You comfort them by...", choices: [{ text: "Objectively analyzing the situation and suggesting a logical solution.", value: "T" }, { text: "Listening to their feelings and offering emotional support to make them feel better.", value: "F" }] }, { question: "When making an important decision, you prioritize...", choices: [{ text: "Objective data and correct principles.", value: "T" }, { text: "The impact it will have on others' feelings.", value: "F" }] }, { question: "When a friend asks for advice, you tend to...", choices: [{ text: "Help them see the pros and cons in a straightforward manner.", value: "T" }, { text: "Comfort them and show empathy for their feelings.", value: "F" }] }, { question: "Which compliment makes you feel better?", choices: [{ text: "You are very efficient and logical.", value: "T" }, { text: "You are such a kind and caring person.", value: "F" }] }, { question: "When watching a touching scene in a movie, you tend to...", choices: [{ text: "Appreciate the scriptwriting and acting.", value: "T" }, { text: "Feel deeply and emotionally connect with the characters.", value: "F" }] }, { question: "It's time to plan a big trip! Which do you prefer?", choices: [{ text: "Create a detailed itinerary, booking all accommodation and activities in advance.", value: "J" }, { text: "Just have a destination in mind and let the rest be a spontaneous adventure.", value: "P" }] }, { question: "What does your desk usually look like?", choices: [{ text: "Neat and tidy, with everything in its proper place.", value: "J" }, { text: "A bit cluttered, but you know exactly where everything is.", value: "P" }] }, { question: "When an urgent task interrupts your day, you feel...", choices: [{ text: "A bit stressed because it disrupts your plans.", value: "J" }, { text: "It's fine, you're always ready to adapt your plans.", value: "P" }] }, { question: "You prefer to...", choices: [{ text: "Make a firm decision and get things done.", value: "J" }, { text: "Keep your options open in case better information or opportunities come along.", value: "P" }] }, { question: "A friend invites you on a spontaneous trip. You...", choices: [{ text: "Hesitate, because you want to know the exact plan first.", value: "J" }, { text: "Agree immediately! You love surprises.", value: "P" }] } ], results: { "ISTJ": { title: "The Logistician", description: "<b>Traits:</b> You are a serious, highly responsible, and extremely reliable individual. You adhere to facts, logic, and verifiable principles, working systematically and with discipline to achieve your goals.<br><br><b>What drives you:</b> Stability, order, and the successful completion of your duties. You are incredibly loyal and faithful to your organization and loved ones." }, "ISFJ": { title: "The Defender", description: "<b>Traits:</b> You are warm, kind, dedicated, and remarkably attentive to the needs of others. You have an excellent memory for details about those around you and are always ready to protect the ones you love.<br><br><b>What drives you:</b> Creating harmony, helping others, and preserving the good things in society. You feel good being a part of what makes others happy." }, "INFJ": { title: "The Advocate", description: "<b>Traits:</b> You are quiet yet highly determined, filled with idealism and creativity. You have a special ability to understand people deeply and often inspire others to do good.<br><br><b>What drives you:</b> Following your ideals, making the world a better place, and seeking the deeper meaning of life. You often see the potential in others." }, "INTJ": { title: "The Architect", description: "<b>Traits:</b> You are a strategic thinker with a plan for everything. You are creative, forward-thinking, and have an incredible ability to turn complex ideas into reality.<br><br><b>What drives you:</b> Knowledge, self-improvement, and optimizing systems for maximum efficiency. You never stop learning and always seek better ways." }, "ISTP": { title: "The Virtuoso", description: "<b>Traits:</b> You are tolerant and flexible, excelling at solving immediate problems logically. You enjoy exploring and understanding the world through hands-on action and tend to remain calm in a crisis.<br><br><b>What drives you:</b> Hands-on work, solving challenging problems, and the freedom to explore things your own way. You learn best from direct experience." }, "ISFP": { title: "The Adventurer", description: "<b>Traits:</b> You are a true artist—independent, charming, and always open to new experiences. You live in the present and find joy in expressing yourself through beauty and aesthetics.<br><br><b>What drives you:</b> Self-expression, beauty, and the freedom to follow your inspiration. You often look for ways to make the world around you more beautiful and pleasant." }, "INFP": { title: "The Mediator", description: "<b>Traits:</b> You are an optimistic idealist, driven by your strong inner values. You are creative and aspire to make the world a better place for everyone.<br><br><b>What drives you:</b> Integrity, sincerity, and helping others discover their potential. You believe in the power of good and strive to align everything you do with that belief." }, "INTP": { title: "The Logician", description: "<b>Traits:</b> You have an unquenchable thirst for knowledge and theories. You enjoy analyzing patterns, seeking the truth, and solving complex problems with a unique and sharp perspective.<br><br><b>What drives you:</b> Understanding how things work, discovering hidden logic, and creating innovative concepts that no one has thought of before." }, "ESTP": { title: "The Entrepreneur", description: "<b>Traits:</b> You are smart, energetic, and excellent at adapting to situations. You love challenges and taking action, often diving into new opportunities with courage and wit.<br><br><b>What drives you:</b> Experiencing thrilling moments, solving on-the-spot problems, and making a tangible impact. You love to be at the center of the action." }, "ESFP": { title: "The Entertainer", description: "<b>Traits:</b> You are naturally fun, vibrant, and friendly. You love to socialize and bring happiness to those around you, with a special talent for making every moment memorable.<br><br><b>What drives you:</b> Sharing joy, being the center of attention, and living life to the fullest. You believe life is a celebration and are ready to add color wherever you go." }, "ENFP": { title: "The Campaigner", description: "<b>Traits:</b> You are enthusiastic, creative, and a great socializer. You can quickly form emotional connections with people and see exciting possibilities in everything.<br><br><b>What drives you:</b> Exploring new ideas, building meaningful relationships, and the freedom of expression. You believe anything is possible and are ready to inspire others to see it too." }, "ENTP": { title: "The Debater", description: "<b>Traits:</b> You are intelligent and inquisitive. You enjoy challenging existing ideas and exploring new concepts from every angle. Intellectual debate is your playground.<br><br><b>What drives you:</b> Overcoming intellectual challenges, understanding complex systems, and finding new ways to solve problems. You are not afraid to question everything." }, "ESTJ": { title: "The Executive", description: "<b>Traits:</b> You are an excellent manager, capable of efficiently managing things and people. You adhere to principles and facts and are ready to lead in establishing order.<br><br><b>What drives you:</b> Efficiency, success, and creating stable systems. You believe that following the right rules and procedures is the best path to success." }, "ESFJ": { title: "The Consul", description: "<b>Traits:</b> You are a social, beloved, and caring person. You find happiness in helping and supporting those around you to achieve their goals and are often the heart of your friend group.<br><br><b>What drives you:</b> Building good relationships, gaining social acceptance, and making those around you happy. You feel valued when you are part of a warm community." }, "ENFJ": { title: "The Protagonist", description: "<b>Traits:</b> You are a natural, charismatic, and inspiring leader. You have the ability to understand and guide people, often attracting others to follow your vision for a better future.<br><br><b>What drives you:</b> Helping people grow, creating positive change in society, and pursuing meaningful, grand goals. You believe in human potential." }, "ENTJ": { title: "The Commander", description: "<b>Traits:</b> You are a bold, imaginative, and strong-willed leader. You see challenges as opportunities and can create clear plans to lead your team to success with determination.<br><br><b>What drives you:</b> Achieving great goals, creating efficient results, and being a leader who drives change. You are not afraid to make tough decisions for long-term success." } } };
        
        function handleFirstInteraction() {
            if (!hasInteracted) {
                // This call prepares the audio element for future plays.
                bgMusic.load();
                hasInteracted = true;
                // Remove the listeners so they don't fire again.
                document.body.removeEventListener('click', handleFirstInteraction, true);
                document.body.removeEventListener('touchend', handleFirstInteraction, true);
            }
        }

        function setLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.lang = lang;
            
            document.querySelectorAll('[data-key]').forEach(elem => {
                const key = elem.getAttribute('data-key');
                if (content[lang][key]) { elem.innerHTML = content[lang][key]; }
            });
            
            const langBtns = document.querySelectorAll('#language-switcher .control-btn');
            langBtns.forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-lang') === lang) {
                    btn.classList.add('active');
                }
            });

            // Re-render dynamic content if the game is in progress or finished
            if (!questionScreen.classList.contains('hidden')) {
                displayQuestion();
            } else if (!resultScreen.classList.contains('hidden') && lastResultType) {
                showResult(lastResultType); // Pass the last result type to re-render
            }
        }

        function toggleMusic() {
            if (!hasInteracted) handleFirstInteraction(); // Ensure audio is unlocked
            bgMusic.muted = !bgMusic.muted;
            if (bgMusic.muted) {
                iconSoundOn.classList.add('hidden');
                iconSoundOff.classList.remove('hidden');
            } else {
                iconSoundOn.classList.remove('hidden');
                iconSoundOff.classList.add('hidden');
                if (bgMusic.paused) {
                    bgMusic.play().catch(error => console.error("Error playing music on toggle:", error));
                }
            }
        }

        function startGame() {
            // The user clicking the start button will have triggered handleFirstInteraction()
            if (!bgMusic.muted && bgMusic.paused) {
                bgMusic.volume = 0.3;
                const playPromise = bgMusic.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => console.error("Audio play failed on start:", error));
                }
            }
            currentQuestionIndex = 0;
            userAnswers = { E: 0, I: 0, S: 0, N: 0, T: 0, F: 0, J: 0, P: 0 };
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
            gameContainer.removeEventListener('mousemove', handleMouseMove);
            startHeading.style.transform = '';
            startParagraph.style.transform = '';
            startBtn.style.transform = '';
            displayQuestion();
        }

        function displayQuestion() {
            const questionData = content[currentLanguage].questions;
            if (currentQuestionIndex >= questionData.length) {
                showResult();
                return;
            }
            const currentQuestion = questionData[currentQuestionIndex];
            questionText.textContent = currentQuestion.question;
            choicesContainer.innerHTML = '';
            currentQuestion.choices.forEach((choice, index) => {
                const card = document.createElement('div');
                card.classList.add('choice-card', 'fade-in');
                card.style.animationDelay = `${index * 100}ms`;
                card.innerHTML += icons[choice.value];
                const text = document.createElement('p');
                text.textContent = choice.text;
                text.classList.add('text-lg', 'text-slate-200');
                card.appendChild(text);
                card.dataset.value = choice.value;
                card.addEventListener('click', handleChoice);
                choicesContainer.appendChild(card);
            });
            updateProgress();
        }
        
        function handleChoice(event) {
            const selectedCard = event.currentTarget;
            const selectedValue = selectedCard.dataset.value;
            userAnswers[selectedValue]++;
            currentQuestionIndex++;
            displayQuestion();
        }

        function updateProgress() {
            const totalQuestions = content[currentLanguage].questions.length;
            const progress = ((currentQuestionIndex + 1) / totalQuestions) * 100;
            progressText.textContent = content[currentLanguage].progressText
                .replace('{current}', currentQuestionIndex + 1)
                .replace('{total}', totalQuestions);
            progressBar.style.width = `${progress}%`;
        }

        function showResult(mbtiType = null) {
            if (!mbtiType) {
                mbtiType = calculateResult();
            }
            lastResultType = mbtiType;
            const resultData = content[currentLanguage].results[mbtiType];
            resultIconContainer.innerHTML = resultIcons[mbtiType];
            const iconSvg = resultIconContainer.querySelector('svg');
            if(iconSvg) {
                iconSvg.classList.add('w-20', 'h-20', 'mx-auto', 'text-amber-400');
            }
            resultType.textContent = mbtiType;
            resultTitle.textContent = resultData.title;
            resultDescription.innerHTML = resultData.description;
            questionScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
        }
        
        function restartGame() {
            lastResultType = null;
            bgMusic.pause();
            bgMusic.currentTime = 0;
            resultScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            gameContainer.addEventListener('mousemove', handleMouseMove);
        }

        function calculateResult() {
            let type = '';
            type += userAnswers.E > userAnswers.I ? 'E' : 'I';
            type += userAnswers.S > userAnswers.N ? 'S' : 'N';
            type += userAnswers.T > userAnswers.F ? 'T' : 'F';
            type += userAnswers.J > userAnswers.P ? 'J' : 'P';
            return type;
        }

        function handleMouseMove(e) {
            const { clientX, clientY } = e;
            const { offsetWidth, offsetHeight } = gameContainer;
            const xPos = (clientX / offsetWidth - 0.5);
            const yPos = (clientY / offsetHeight - 0.5);
            const headingMaxOffset = 12, pMaxOffset = 8, btnMaxOffset = 4;
            startHeading.style.transform = `translateX(${xPos * headingMaxOffset}px) translateY(${yPos * headingMaxOffset}px)`;
            startParagraph.style.transform = `translateX(${xPos * pMaxOffset}px) translateY(${yPos * pMaxOffset}px)`;
            startBtn.style.transform = `translateX(${xPos * btnMaxOffset}px) translateY(${yPos * btnMaxOffset}px)`;
        }

        // --- Event Listeners ---
        startBtn.addEventListener('click', startGame);
        restartBtn.addEventListener('click', restartGame);
        musicToggleBtn.addEventListener('click', toggleMusic);
        gameContainer.addEventListener('mousemove', handleMouseMove);
        
        // --- NEW: Event Listeners for language buttons ---
        document.querySelectorAll('#language-switcher .control-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                setLanguage(e.currentTarget.getAttribute('data-lang'));
            });
        });
        
        // Set initial language on page load
        setLanguage(currentLanguage);
    </script>
</body>
</html>

